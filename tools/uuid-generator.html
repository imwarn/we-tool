<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="UUID ç”Ÿæˆå™¨ - æ”¯æŒ UUID v1, v4, v7, Nil UUID, GUID ç­‰å¤šç§æ ¼å¼">
    <meta name="keywords" content="UUIDç”Ÿæˆå™¨,GUIDç”Ÿæˆå™¨,UUID,GUID,å”¯ä¸€æ ‡è¯†ç¬¦">
    <title>UUID ç”Ÿæˆå™¨ - å¼€å‘è€…å·¥å…·ç®±</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ†”</text></svg>">
    
    <!-- å…¬å…±æ ·å¼ -->
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/tool.css">
    
    <style>
        .uuid-showcase {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-tertiary) 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .uuid-showcase::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 216, 3, 0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .uuid-icon {
            font-size: 4em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .uuid-display {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--color-headline);
            font-family: 'Courier New', monospace;
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px auto;
            max-width: 600px;
            word-break: break-all;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: all 0.3s;
        }

        .uuid-display:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .uuid-display.has-uuid:hover {
            background: var(--color-tertiary);
        }

        .uuid-display.empty {
            color: var(--color-paragraph);
            opacity: 0.7;
            font-size: 1.2em;
        }

        .uuid-display.empty:hover {
            background: rgba(255, 216, 3, 0.1);
        }

        .uuid-subtitle {
            font-size: 1.1em;
            color: var(--color-paragraph);
            opacity: 0.8;
            position: relative;
            z-index: 1;
        }

        /* UUID ç‰ˆæœ¬é€‰æ‹©å™¨ */
        .uuid-version-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .uuid-version-card {
            background: white;
            border: 2px solid var(--color-secondary);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .uuid-version-card:hover {
            border-color: var(--color-tertiary);
            background: var(--color-secondary);
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .uuid-version-card.active {
            background: var(--color-button);
            border-color: var(--color-button);
            color: var(--color-button-text);
        }

        .uuid-version-card.active .version-name,
        .uuid-version-card.active .version-desc {
            color: var(--color-button-text);
        }

        .version-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .version-name {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--color-headline);
            margin-bottom: 8px;
        }

        .version-desc {
            font-size: 0.85em;
            color: var(--color-paragraph);
            opacity: 0.8;
            line-height: 1.4;
        }

        /* ç”Ÿæˆæ•°é‡é€‰æ‹©å™¨ */
        .quantity-selector {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .quantity-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid var(--color-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: var(--color-paragraph);
        }

        .quantity-btn:hover {
            border-color: var(--color-tertiary);
            background: var(--color-secondary);
        }

        .quantity-btn.active {
            background: var(--color-button);
            border-color: var(--color-button);
            color: var(--color-button-text);
        }

        .quantity-input {
            width: 100px;
            padding: 10px;
            border: 2px solid var(--color-secondary);
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
        }

        /* UUID åˆ—è¡¨ */
        .uuid-list {
            background: var(--color-secondary);
            border-radius: 12px;
            padding: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        .uuid-list::-webkit-scrollbar {
            width: 8px;
        }

        .uuid-list::-webkit-scrollbar-track {
            background: white;
            border-radius: 4px;
        }

        .uuid-list::-webkit-scrollbar-thumb {
            background: var(--color-button);
            border-radius: 4px;
        }

        .uuid-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
        }

        .uuid-item:hover {
            background: var(--color-tertiary);
            transform: translateX(4px);
        }

        .uuid-item:last-child {
            margin-bottom: 0;
        }

        .uuid-value {
            flex: 1;
            color: var(--color-headline);
            font-weight: 600;
            word-break: break-all;
            margin-right: 10px;
        }

        .uuid-actions {
            display: flex;
            gap: 8px;
        }

        .uuid-action-btn {
            padding: 6px 12px;
            background: var(--color-secondary);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .uuid-action-btn:hover {
            background: var(--color-button);
            transform: scale(1.1);
        }

        /* æ ¼å¼é€‰é¡¹ */
        .format-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .format-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: white;
            border: 2px solid var(--color-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .format-option:hover {
            border-color: var(--color-tertiary);
            background: var(--color-secondary);
        }

        .format-option.active {
            background: var(--color-button);
            border-color: var(--color-button);
            color: var(--color-button-text);
        }

        .format-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .format-label {
            font-weight: 600;
            cursor: pointer;
            user-select: none;
        }

        /* ç»Ÿè®¡ä¿¡æ¯ */
        .uuid-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .uuid-stat-card {
            background: linear-gradient(135deg, var(--color-secondary) 0%, rgba(254, 250, 224, 0.5) 100%);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid var(--color-tertiary);
        }

        .uuid-stat-value {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--color-button);
            font-family: 'Courier New', monospace;
        }

        .uuid-stat-label {
            font-size: 0.85em;
            color: var(--color-paragraph);
            margin-top: 4px;
            opacity: 0.8;
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--color-paragraph);
            opacity: 0.6;
        }

        .empty-state-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .uuid-display {
                font-size: 1.2em;
                padding: 15px;
            }

            .uuid-version-selector {
                grid-template-columns: 1fr;
            }

            .quantity-selector {
                flex-direction: column;
                align-items: stretch;
            }

            .quantity-btn,
            .quantity-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">
                <div class="logo-icon">ğŸ› ï¸</div>
                <span data-i18n="nav.home">å¼€å‘è€…å·¥å…·ç®±</span>
            </a>
            <a href="../index.html" class="back-btn">
                <span>â†</span>
                <span data-i18n="common.back">è¿”å›é¦–é¡µ</span>
            </a>
        </div>
    </nav>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">ğŸ†” UUID ç”Ÿæˆå™¨</h1>
            <p class="page-subtitle">å¿«é€Ÿç”Ÿæˆ UUID v1, v4, v7, Nil UUID ç­‰å¤šç§æ ¼å¼</p>
        </div>

        <!-- UUID å±•ç¤ºåŒº -->
        <div class="uuid-showcase">
            <div class="uuid-icon">ğŸ†”</div>
            <div class="uuid-display empty" id="featuredUUID" onclick="handleFeaturedClick()">
                ç‚¹å‡»ä¸‹æ–¹"ç”Ÿæˆ UUID"æŒ‰é’®å¼€å§‹ âœ¨
            </div>
            <div class="uuid-subtitle" id="featuredHint">ç‚¹å‡»ä¸Šæ–¹åŒºåŸŸå¯å¿«é€Ÿç”Ÿæˆ</div>
        </div>

        <!-- UUID ç”Ÿæˆé…ç½® -->
        <div class="tool-panel">
            <h2 class="section-title">ç”Ÿæˆé…ç½®</h2>

            <div class="form-group">
                <label class="form-label">é€‰æ‹© UUID ç‰ˆæœ¬</label>
                <div class="uuid-version-selector">
                    <div class="uuid-version-card active" onclick="selectUUIDVersion('v4', this)">
                        <div class="version-icon">ğŸ²</div>
                        <div class="version-name">UUID v4</div>
                        <div class="version-desc">éšæœºç”Ÿæˆï¼Œæœ€å¸¸ç”¨</div>
                    </div>
                    <div class="uuid-version-card" onclick="selectUUIDVersion('v1', this)">
                        <div class="version-icon">â°</div>
                        <div class="version-name">UUID v1</div>
                        <div class="version-desc">åŸºäºæ—¶é—´æˆ³å’Œ MAC</div>
                    </div>
                    <div class="uuid-version-card" onclick="selectUUIDVersion('v7', this)">
                        <div class="version-icon">ğŸ“…</div>
                        <div class="version-name">UUID v7</div>
                        <div class="version-desc">æ—¶é—´æ’åºï¼Œæ–°æ ‡å‡†</div>
                    </div>
                    <div class="uuid-version-card" onclick="selectUUIDVersion('nil', this)">
                        <div class="version-icon">â­•</div>
                        <div class="version-name">Nil UUID</div>
                        <div class="version-desc">å…¨é›¶å ä½ç¬¦</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">ç”Ÿæˆæ•°é‡</label>
                <div class="quantity-selector">
                    <button class="quantity-btn active" onclick="selectQuantity(1, this)">1 ä¸ª</button>
                    <button class="quantity-btn" onclick="selectQuantity(5, this)">5 ä¸ª</button>
                    <button class="quantity-btn" onclick="selectQuantity(10, this)">10 ä¸ª</button>
                    <button class="quantity-btn" onclick="selectQuantity(50, this)">50 ä¸ª</button>
                    <button class="quantity-btn" onclick="selectQuantity(100, this)">100 ä¸ª</button>
                    <input 
                        type="number" 
                        class="quantity-input" 
                        id="customQuantity"
                        min="1" 
                        max="1000" 
                        placeholder="è‡ªå®šä¹‰"
                        onchange="selectQuantity(parseInt(this.value), this)"
                    >
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">è¾“å‡ºæ ¼å¼</label>
                <div class="format-options">
                    <div class="format-option active" onclick="toggleFormat('lowercase', this)">
                        <input type="checkbox" class="format-checkbox" id="lowercase" checked>
                        <label class="format-label" for="lowercase">å°å†™</label>
                    </div>
                    <div class="format-option" onclick="toggleFormat('uppercase', this)">
                        <input type="checkbox" class="format-checkbox" id="uppercase">
                        <label class="format-label" for="uppercase">å¤§å†™</label>
                    </div>
                    <div class="format-option" onclick="toggleFormat('braces', this)">
                        <input type="checkbox" class="format-checkbox" id="braces">
                        <label class="format-label" for="braces">èŠ±æ‹¬å· {}</label>
                    </div>
                    <div class="format-option" onclick="toggleFormat('noDashes', this)">
                        <input type="checkbox" class="format-checkbox" id="noDashes">
                        <label class="format-label" for="noDashes">æ— è¿å­—ç¬¦</label>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="generateUUIDs()">
                    <span>ğŸ²</span>
                    <span>ç”Ÿæˆ UUID</span>
                </button>
                <button class="btn btn-secondary" onclick="clearUUIDs()">
                    <span>ğŸ—‘ï¸</span>
                    <span>æ¸…ç©ºåˆ—è¡¨</span>
                </button>
                <button class="btn btn-secondary" onclick="copyAllUUIDs()">
                    <span>ğŸ“‹</span>
                    <span>å¤åˆ¶å…¨éƒ¨</span>
                </button>
                <button class="btn btn-secondary" onclick="downloadUUIDs()">
                    <span>ğŸ’¾</span>
                    <span>ä¸‹è½½ä¸ºæ–‡æœ¬</span>
                </button>
            </div>
        </div>

        <!-- UUID åˆ—è¡¨ -->
        <div class="tool-panel">
            <h2 class="section-title">ç”Ÿæˆç»“æœ</h2>

            <div id="uuidListContainer">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ“</div>
                    <div>æš‚æ—  UUIDï¼Œç‚¹å‡»ä¸Šæ–¹"ç”Ÿæˆ UUID"æŒ‰é’®å¼€å§‹</div>
                </div>
            </div>

            <div class="uuid-stats">
                <div class="uuid-stat-card">
                    <div class="uuid-stat-value" id="totalCount">0</div>
                    <div class="uuid-stat-label">å·²ç”Ÿæˆæ€»æ•°</div>
                </div>
                <div class="uuid-stat-card">
                    <div class="uuid-stat-value" id="currentVersion">v4</div>
                    <div class="uuid-stat-label">å½“å‰ç‰ˆæœ¬</div>
                </div>
                <div class="uuid-stat-card">
                    <div class="uuid-stat-value" id="listCount">0</div>
                    <div class="uuid-stat-label">åˆ—è¡¨æ•°é‡</div>
                </div>
            </div>
        </div>

        <!-- UUID è¯´æ˜ -->
        <div class="tool-panel">
            <h2 class="section-title">UUID ç‰ˆæœ¬è¯´æ˜</h2>

            <div class="info-box">
                <h4>ğŸ² UUID v4 (Random)</h4>
                <ul>
                    <li><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼šå®Œå…¨éšæœºç”Ÿæˆ</li>
                    <li><strong>æ ¼å¼</strong>ï¼šxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx</li>
                    <li><strong>ç‰¹ç‚¹</strong>ï¼šæœ€å¸¸ç”¨ï¼Œæ— éœ€é¢å¤–ä¿¡æ¯ï¼Œç¢°æ’æ¦‚ç‡æä½</li>
                    <li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ•°æ®åº“ä¸»é”®ã€ä¼šè¯IDã€ä¸´æ—¶æ ‡è¯†ç¬¦</li>
                    <li><strong>ç¤ºä¾‹</strong>ï¼š550e8400-e29b-41d4-a716-446655440000</li>
                </ul>
            </div>

            <div class="info-box">
                <h4>â° UUID v1 (Time-based)</h4>
                <ul>
                    <li><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼šåŸºäºæ—¶é—´æˆ³ + MAC åœ°å€ + éšæœºæ•°</li>
                    <li><strong>æ ¼å¼</strong>ï¼šxxxxxxxx-xxxx-1xxx-yxxx-xxxxxxxxxxxx</li>
                    <li><strong>ç‰¹ç‚¹</strong>ï¼šå¯è¿½æº¯æ—¶é—´ï¼ŒæŒ‰æ—¶é—´æ’åºï¼Œå¯èƒ½æ³„éœ² MAC åœ°å€</li>
                    <li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šéœ€è¦æ—¶é—´æ’åºçš„åœºæ™¯</li>
                    <li><strong>æ³¨æ„</strong>ï¼šWeb ç¯å¢ƒæ— æ³•è·å–çœŸå® MACï¼Œä½¿ç”¨éšæœºå€¼ä»£æ›¿</li>
                </ul>
            </div>

            <div class="info-box">
                <h4>ğŸ“… UUID v7 (Unix Timestamp)</h4>
                <ul>
                    <li><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼šåŸºäº Unix æ—¶é—´æˆ³ + éšæœºæ•°</li>
                    <li><strong>æ ¼å¼</strong>ï¼šxxxxxxxx-xxxx-7xxx-yxxx-xxxxxxxxxxxx</li>
                    <li><strong>ç‰¹ç‚¹</strong>ï¼šæ—¶é—´æ’åºï¼Œæ•°æ®åº“å‹å¥½ï¼Œæ–°æ ‡å‡†ï¼ˆRFC 9562ï¼‰</li>
                    <li><strong>ä¼˜åŠ¿</strong>ï¼šæ¯” v1 æ›´ç®€æ´ï¼Œä¸æ³„éœ² MACï¼Œç´¢å¼•æ•ˆç‡é«˜</li>
                    <li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šç°ä»£åº”ç”¨æ¨èä½¿ç”¨</li>
                </ul>
            </div>

            <div class="info-box">
                <h4>â­• Nil UUID</h4>
                <ul>
                    <li><strong>æ ¼å¼</strong>ï¼š00000000-0000-0000-0000-000000000000</li>
                    <li><strong>ç”¨é€”</strong>ï¼šç©ºå€¼å ä½ç¬¦ï¼Œè¡¨ç¤º"æ— æ•ˆ"æˆ–"æœªè®¾ç½®"</li>
                    <li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šåˆå§‹åŒ–ã€é»˜è®¤å€¼ã€å ä½ç¬¦</li>
                </ul>
            </div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="info-box">
            <h4>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h4>
            <ul>
                <li><strong>ç‰ˆæœ¬é€‰æ‹©</strong>ï¼šæ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ UUID ç‰ˆæœ¬</li>
                <li><strong>æ‰¹é‡ç”Ÿæˆ</strong>ï¼šæ”¯æŒä¸€æ¬¡ç”Ÿæˆæœ€å¤š 1000 ä¸ª UUID</li>
                <li><strong>æ ¼å¼åŒ–</strong>ï¼šæ”¯æŒå¤§å°å†™ã€èŠ±æ‹¬å·ã€æ— è¿å­—ç¬¦ç­‰å¤šç§æ ¼å¼</li>
                <li><strong>å¿«é€Ÿç”Ÿæˆ</strong>ï¼šç‚¹å‡»é¡¶éƒ¨å±•ç¤ºåŒºåŸŸå¯å¿«é€Ÿç”Ÿæˆå•ä¸ª UUID</li>
                <li><strong>å¿«é€Ÿå¤åˆ¶</strong>ï¼šç”Ÿæˆåç‚¹å‡»å±•ç¤ºåŒºåŸŸæˆ–åˆ—è¡¨é¡¹å³å¯å¤åˆ¶</li>
                <li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šæ”¯æŒå¤åˆ¶å…¨éƒ¨ã€ä¸‹è½½ä¸ºæ–‡æœ¬æ–‡ä»¶</li>
                <li><strong>æ¨èä½¿ç”¨</strong>ï¼šä¸€èˆ¬æƒ…å†µä¸‹æ¨èä½¿ç”¨ UUID v4 æˆ– v7</li>
            </ul>
        </div>
    </div>

    <!-- å…¬å…±è„šæœ¬ -->
    <script src="../assets/js/common.js"></script>

    <script>
        let currentVersion = 'v4';
        let currentQuantity = 1;
        let generatedUUIDs = [];
        let totalGenerated = 0;
        let hasGenerated = false; // æ–°å¢ï¼šæ ‡è®°æ˜¯å¦å·²ç”Ÿæˆè¿‡

        // UUID ç”Ÿæˆå‡½æ•°
        function generateUUIDv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function generateUUIDv1() {
            const timestamp = new Date().getTime();
            const timeLow = (timestamp & 0xffffffff).toString(16).padStart(8, '0');
            const timeMid = ((timestamp / 0x100000000) & 0xffff).toString(16).padStart(4, '0');
            const timeHi = (((timestamp / 0x1000000000000) & 0x0fff) | 0x1000).toString(16).padStart(4, '0');
            const clockSeq = ((Math.random() * 0x3fff) | 0x8000).toString(16).padStart(4, '0');
            const node = Array.from({length: 12}, () => Math.floor(Math.random() * 16).toString(16)).join('');
            
            return `${timeLow}-${timeMid}-${timeHi}-${clockSeq}-${node}`;
        }

        function generateUUIDv7() {
            const timestamp = Date.now();
            const timestampHex = timestamp.toString(16).padStart(12, '0');
            const randomHex = Array.from({length: 20}, () => Math.floor(Math.random() * 16).toString(16)).join('');
            
            const uuid = timestampHex + randomHex;
            const formatted = uuid.slice(0, 8) + '-' + uuid.slice(8, 12) + '-7' + uuid.slice(13, 16) + 
                            '-' + (parseInt(uuid.slice(16, 17), 16) & 0x3 | 0x8).toString(16) + uuid.slice(17, 20) + 
                            '-' + uuid.slice(20);
            
            return formatted;
        }

        function generateNilUUID() {
            return '00000000-0000-0000-0000-000000000000';
        }

        // æ ¼å¼åŒ– UUID
        function formatUUID(uuid) {
            const lowercase = document.getElementById('lowercase').checked;
            const uppercase = document.getElementById('uppercase').checked;
            const braces = document.getElementById('braces').checked;
            const noDashes = document.getElementById('noDashes').checked;

            let result = uuid;

            // å¤§å°å†™
            if (uppercase) {
                result = result.toUpperCase();
            } else if (lowercase) {
                result = result.toLowerCase();
            }

            // ç§»é™¤è¿å­—ç¬¦
            if (noDashes) {
                result = result.replace(/-/g, '');
            }

            // æ·»åŠ èŠ±æ‹¬å·
            if (braces) {
                result = '{' + result + '}';
            }

            return result;
        }

        // ç”Ÿæˆ UUID
        function generateUUID() {
            let uuid;
            switch(currentVersion) {
                case 'v1':
                    uuid = generateUUIDv1();
                    break;
                case 'v4':
                    uuid = generateUUIDv4();
                    break;
                case 'v7':
                    uuid = generateUUIDv7();
                    break;
                case 'nil':
                    uuid = generateNilUUID();
                    break;
                default:
                    uuid = generateUUIDv4();
            }
            return formatUUID(uuid);
        }

        // å¤„ç†å±•ç¤ºåŒºç‚¹å‡»
        function handleFeaturedClick() {
            const displayElement = document.getElementById('featuredUUID');
            
            if (!hasGenerated) {
                // å¦‚æœè¿˜æ²¡ç”Ÿæˆè¿‡ï¼Œæ‰§è¡Œå¿«é€Ÿç”Ÿæˆ
                currentQuantity = 1;
                generateUUIDs();
                DevToolkit.Toast.info('å·²ä¸ºæ‚¨å¿«é€Ÿç”Ÿæˆä¸€ä¸ª UUIDï¼');
            } else {
                // å¦‚æœå·²ç”Ÿæˆè¿‡ï¼Œæ‰§è¡Œå¤åˆ¶
                const uuid = displayElement.textContent;
                DevToolkit.copyToClipboard(uuid);
            }
        }

        // ç”Ÿæˆå¤šä¸ª UUID
        function generateUUIDs() {
            if (currentQuantity < 1 || currentQuantity > 1000) {
                DevToolkit.Toast.error('ç”Ÿæˆæ•°é‡å¿…é¡»åœ¨ 1-1000 ä¹‹é—´');
                return;
            }

            const newUUIDs = [];
            for (let i = 0; i < currentQuantity; i++) {
                newUUIDs.push(generateUUID());
            }

            generatedUUIDs = [...newUUIDs, ...generatedUUIDs];
            totalGenerated += newUUIDs.length;
            hasGenerated = true; // æ ‡è®°å·²ç”Ÿæˆ

            // æ›´æ–°å±•ç¤ºåŒº
            const displayElement = document.getElementById('featuredUUID');
            displayElement.textContent = newUUIDs[0];
            displayElement.classList.remove('empty');
            displayElement.classList.add('has-uuid');
            
            // æ›´æ–°æç¤ºæ–‡æœ¬
            document.getElementById('featuredHint').textContent = 'ç‚¹å‡» UUID å³å¯å¤åˆ¶';

            // æ›´æ–°åˆ—è¡¨
            renderUUIDList();
            updateStats();

            DevToolkit.Toast.success(`æˆåŠŸç”Ÿæˆ ${newUUIDs.length} ä¸ª UUIDï¼`);
        }

        // æ¸²æŸ“ UUID åˆ—è¡¨
        function renderUUIDList() {
            const container = document.getElementById('uuidListContainer');
            
            if (generatedUUIDs.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“</div>
                        <div>æš‚æ—  UUIDï¼Œç‚¹å‡»ä¸Šæ–¹"ç”Ÿæˆ UUID"æŒ‰é’®å¼€å§‹</div>
                    </div>
                `;
                return;
            }

            const listHTML = `
                <div class="uuid-list">
                    ${generatedUUIDs.map((uuid, index) => `
                        <div class="uuid-item">
                            <div class="uuid-value">${uuid}</div>
                            <div class="uuid-actions">
                                <button class="uuid-action-btn" onclick="copyUUID('${uuid}')" title="å¤åˆ¶">
                                    ğŸ“‹
                                </button>
                                <button class="uuid-action-btn" onclick="deleteUUID(${index})" title="åˆ é™¤">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;

            container.innerHTML = listHTML;
        }

        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            document.getElementById('totalCount').textContent = totalGenerated;
            document.getElementById('currentVersion').textContent = currentVersion.toUpperCase();
            document.getElementById('listCount').textContent = generatedUUIDs.length;
        }

        // é€‰æ‹© UUID ç‰ˆæœ¬
        function selectUUIDVersion(version, element) {
            currentVersion = version;
            document.querySelectorAll('.uuid-version-card').forEach(card => {
                card.classList.remove('active');
            });
            element.classList.add('active');
        }

        // é€‰æ‹©æ•°é‡
        function selectQuantity(quantity, element) {
            if (isNaN(quantity) || quantity < 1 || quantity > 1000) {
                DevToolkit.Toast.error('æ•°é‡å¿…é¡»åœ¨ 1-1000 ä¹‹é—´');
                return;
            }

            currentQuantity = quantity;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (element.classList && element.classList.contains('quantity-btn')) {
                element.classList.add('active');
            }
        }

        // åˆ‡æ¢æ ¼å¼é€‰é¡¹
        function toggleFormat(type, element) {
            const checkbox = document.getElementById(type);
            
            // äº’æ–¥é€‰é¡¹å¤„ç†
            if (type === 'lowercase' && checkbox.checked) {
                document.getElementById('uppercase').checked = false;
                document.querySelector('[onclick*="uppercase"]').classList.remove('active');
            } else if (type === 'uppercase' && checkbox.checked) {
                document.getElementById('lowercase').checked = false;
                document.querySelector('[onclick*="lowercase"]').classList.remove('active');
            }
            
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('active');

            // é‡æ–°æ ¼å¼åŒ–ç°æœ‰ UUID
            if (generatedUUIDs.length > 0) {
                generatedUUIDs = generatedUUIDs.map(uuid => {
                    // ç§»é™¤ç°æœ‰æ ¼å¼
                    let clean = uuid.replace(/[{}]/g, '').replace(/-/g, '');
                    // æ¢å¤æ ‡å‡†æ ¼å¼
                    if (clean.length === 32) {
                        clean = clean.slice(0, 8) + '-' + clean.slice(8, 12) + '-' + 
                               clean.slice(12, 16) + '-' + clean.slice(16, 20) + '-' + clean.slice(20);
                    }
                    return formatUUID(clean);
                });
                renderUUIDList();
                document.getElementById('featuredUUID').textContent = generatedUUIDs[0];
            }
        }

        // å¤åˆ¶å•ä¸ª UUID
        function copyUUID(uuid) {
            DevToolkit.copyToClipboard(uuid);
        }

        // åˆ é™¤å•ä¸ª UUID
        function deleteUUID(index) {
            generatedUUIDs.splice(index, 1);
            
            // å¦‚æœåˆ é™¤ååˆ—è¡¨ä¸ºç©ºï¼Œé‡ç½®çŠ¶æ€
            if (generatedUUIDs.length === 0) {
                hasGenerated = false;
                const displayElement = document.getElementById('featuredUUID');
                displayElement.textContent = 'ç‚¹å‡»ä¸‹æ–¹"ç”Ÿæˆ UUID"æŒ‰é’®å¼€å§‹ âœ¨';
                displayElement.classList.remove('has-uuid');
                displayElement.classList.add('empty');
                document.getElementById('featuredHint').textContent = 'ç‚¹å‡»ä¸Šæ–¹åŒºåŸŸå¯å¿«é€Ÿç”Ÿæˆ';
            } else {
                // æ›´æ–°å±•ç¤ºåŒºä¸ºç¬¬ä¸€ä¸ª UUID
                document.getElementById('featuredUUID').textContent = generatedUUIDs[0];
            }
            
            renderUUIDList();
            updateStats();
            DevToolkit.Toast.info('å·²åˆ é™¤');
        }

        // æ¸…ç©ºåˆ—è¡¨
        function clearUUIDs() {
            if (generatedUUIDs.length === 0) {
                DevToolkit.Toast.warning('åˆ—è¡¨å·²ç»æ˜¯ç©ºçš„');
                return;
            }

            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ UUID å—ï¼Ÿ')) {
                generatedUUIDs = [];
                hasGenerated = false;
                
                renderUUIDList();
                updateStats();
                
                const displayElement = document.getElementById('featuredUUID');
                displayElement.textContent = 'ç‚¹å‡»ä¸‹æ–¹"ç”Ÿæˆ UUID"æŒ‰é’®å¼€å§‹ âœ¨';
                displayElement.classList.remove('has-uuid');
                displayElement.classList.add('empty');
                document.getElementById('featuredHint').textContent = 'ç‚¹å‡»ä¸Šæ–¹åŒºåŸŸå¯å¿«é€Ÿç”Ÿæˆ';
                
                DevToolkit.Toast.success('å·²æ¸…ç©ºåˆ—è¡¨');
            }
        }

        // å¤åˆ¶å…¨éƒ¨
        function copyAllUUIDs() {
            if (generatedUUIDs.length === 0) {
                DevToolkit.Toast.warning('æš‚æ—  UUID å¯å¤åˆ¶');
                return;
            }

            const text = generatedUUIDs.join('\n');
            DevToolkit.copyToClipboard(text);
        }

        // ä¸‹è½½ä¸ºæ–‡æœ¬
        function downloadUUIDs() {
            if (generatedUUIDs.length === 0) {
                DevToolkit.Toast.warning('æš‚æ—  UUID å¯ä¸‹è½½');
                return;
            }

            const text = generatedUUIDs.join('\n');
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `uuids-${currentVersion}-${Date.now()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            DevToolkit.Toast.success('ä¸‹è½½æˆåŠŸï¼');
        }

        // åˆå§‹åŒ–
        updateStats();
    </script>
</body>
</html>