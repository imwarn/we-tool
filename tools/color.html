<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="é¢œè‰²è½¬æ¢å·¥å…· - HEXã€RGBã€HSLã€HSV ç­‰é¢œè‰²æ ¼å¼äº’è½¬ï¼Œé¢œè‰²é€‰æ‹©å™¨">
    <meta name="keywords" content="é¢œè‰²è½¬æ¢,HEXè½¬RGB,RGBè½¬HEX,HSL,é¢œè‰²é€‰æ‹©å™¨,color picker">
    <title>é¢œè‰²è½¬æ¢ - å¼€å‘è€…å·¥å…·ç®±</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¨</text></svg>">
    
    <!-- å…¬å…±æ ·å¼ -->
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/tool.css">
    
    <style>
        .color-preview {
            width: 100%;
            height: 200px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .color-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-conic-gradient(#e0e0e0 0% 25%, #f5f5f5 0% 50%) 
                50% / 20px 20px;
            z-index: -1;
        }

        .color-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .color-name {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .color-formats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .format-item {
            background: var(--color-secondary);
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .format-item:hover {
            background: var(--color-tertiary);
            transform: translateY(-2px);
        }

        .format-label {
            font-size: 0.9em;
            color: var(--color-paragraph);
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .format-value {
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--color-headline);
        }

        .color-picker-container {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .color-picker-large {
            width: 150px;
            height: 150px;
            border: 3px solid var(--color-secondary);
            border-radius: 16px;
            cursor: pointer;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .palette-item {
            aspect-ratio: 1;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .palette-item:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .palette-item::after {
            content: attr(data-color);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7em;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
            background: var(--color-headline);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .palette-item:hover::after {
            opacity: 1;
        }

        .gradient-preview {
            height: 100px;
            border-radius: 12px;
            margin-top: 15px;
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-button);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-button);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .harmony-colors {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .harmony-item {
            flex: 1;
            height: 80px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .harmony-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .harmony-label {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font-size: 0.8em;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">
                <div class="logo-icon">ğŸ› ï¸</div>
                <span data-i18n="nav.home">å¼€å‘è€…å·¥å…·ç®±</span>
            </a>
            <a href="../index.html" class="back-btn">
                <span>â†</span>
                <span data-i18n="common.back">è¿”å›é¦–é¡µ</span>
            </a>
        </div>
    </nav>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">ğŸ¨ é¢œè‰²è½¬æ¢</h1>
            <p class="page-subtitle">HEXã€RGBã€HSLã€HSV ç­‰é¢œè‰²æ ¼å¼äº’è½¬ï¼Œé¢œè‰²é€‰æ‹©å™¨</p>
        </div>

        <!-- é¢œè‰²é¢„è§ˆ -->
        <div class="tool-panel">
            <h2 class="section-title">é¢œè‰²é¢„è§ˆ</h2>
            <div class="color-preview" id="colorPreview">
                <div class="color-info">
                    <div class="color-name" id="colorName">#FFD803</div>
                </div>
            </div>
        </div>

        <!-- é¢œè‰²é€‰æ‹©å™¨ -->
        <div class="tool-panel">
            <h2 class="section-title">é¢œè‰²é€‰æ‹©</h2>
            
            <div class="color-picker-container">
                <input 
                    type="color" 
                    class="color-picker-large" 
                    id="colorPicker" 
                    value="#ffd803"
                >
                <div style="flex: 1;">
                    <div class="form-group">
                        <label class="form-label">è¾“å…¥é¢œè‰²å€¼</label>
                        <input 
                            type="text" 
                            class="form-input" 
                            id="colorInput"
                            placeholder="è¾“å…¥ HEXã€RGB æˆ– HSL æ ¼å¼"
                            value="#FFD803"
                        >
                    </div>
                </div>
            </div>

            <!-- RGB æ»‘å— -->
            <div class="slider-container">
                <div class="slider-label">
                    <span>R (çº¢è‰²)</span>
                    <span id="rValue">255</span>
                </div>
                <input type="range" class="slider" id="rSlider" min="0" max="255" value="255" 
                    style="background: linear-gradient(to right, #000, #f00);">
            </div>

            <div class="slider-container">
                <div class="slider-label">
                    <span>G (ç»¿è‰²)</span>
                    <span id="gValue">216</span>
                </div>
                <input type="range" class="slider" id="gSlider" min="0" max="255" value="216"
                    style="background: linear-gradient(to right, #000, #0f0);">
            </div>

            <div class="slider-container">
                <div class="slider-label">
                    <span>B (è“è‰²)</span>
                    <span id="bValue">3</span>
                </div>
                <input type="range" class="slider" id="bSlider" min="0" max="255" value="3"
                    style="background: linear-gradient(to right, #000, #00f);">
            </div>

            <div class="slider-container">
                <div class="slider-label">
                    <span>é€æ˜åº¦</span>
                    <span id="alphaValue">100%</span>
                </div>
                <input type="range" class="slider" id="alphaSlider" min="0" max="100" value="100"
                    style="background: linear-gradient(to right, transparent, #000);">
            </div>
        </div>

        <!-- é¢œè‰²æ ¼å¼ -->
        <div class="tool-panel">
            <h2 class="section-title">é¢œè‰²æ ¼å¼</h2>
            <div class="color-formats" id="colorFormats"></div>
        </div>

        <!-- å’Œè°è‰² -->
        <div class="tool-panel">
            <h2 class="section-title">å’Œè°è‰²æ–¹æ¡ˆ</h2>
            <div class="form-group">
                <select class="form-select" id="harmonyType">
                    <option value="complementary">äº’è¡¥è‰²</option>
                    <option value="triadic">ä¸‰è§’è‰²</option>
                    <option value="analogous">ç±»ä¼¼è‰²</option>
                    <option value="split">åˆ†è£‚äº’è¡¥</option>
                    <option value="tetradic">å››è§’è‰²</option>
                </select>
            </div>
            <div class="harmony-colors" id="harmonyColors"></div>
        </div>

        <!-- å¸¸ç”¨è‰²æ¿ -->
        <div class="tool-panel">
            <h2 class="section-title">å¸¸ç”¨è‰²æ¿</h2>
            <div class="tabs">
                <button class="tab-btn active" onclick="showPalette('material', event)">Material</button>
                <button class="tab-btn" onclick="showPalette('flat', event)">Flat UI</button>
                <button class="tab-btn" onclick="showPalette('tailwind', event)">Tailwind</button>
                <button class="tab-btn" onclick="showPalette('chinese', event)">ä¸­å›½ä¼ ç»Ÿè‰²</button>
            </div>
            <div class="palette-grid" id="paletteGrid"></div>
        </div>

        <!-- æ¸å˜ç”Ÿæˆ -->
        <div class="tool-panel">
            <h2 class="section-title">æ¸å˜ç”Ÿæˆ</h2>
            <div class="grid-2">
                <div class="form-group">
                    <label class="form-label">èµ·å§‹é¢œè‰²</label>
                    <input type="color" id="gradientStart" value="#ffd803" style="width: 100%; height: 50px;">
                </div>
                <div class="form-group">
                    <label class="form-label">ç»“æŸé¢œè‰²</label>
                    <input type="color" id="gradientEnd" value="#2ec4b6" style="width: 100%; height: 50px;">
                </div>
            </div>
            <div class="form-group">
                <label class="form-label">æ¸å˜æ–¹å‘</label>
                <select class="form-select" id="gradientDirection">
                    <option value="to right">å·¦åˆ°å³</option>
                    <option value="to bottom">ä¸Šåˆ°ä¸‹</option>
                    <option value="to bottom right">å¯¹è§’çº¿</option>
                    <option value="135deg">135åº¦</option>
                </select>
            </div>
            <div class="gradient-preview" id="gradientPreview"></div>
            <div class="form-group">
                <label class="form-label">CSS ä»£ç </label>
                <textarea class="form-textarea" id="gradientCode" readonly style="min-height: 80px;"></textarea>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="copyGradient()">
                    <span>ğŸ“‹</span>
                    <span>å¤åˆ¶ CSS</span>
                </button>
            </div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="info-box">
            <h4>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h4>
            <ul>
                <li><strong>HEX</strong>ï¼šåå…­è¿›åˆ¶é¢œè‰²ï¼Œå¦‚ #FFD803</li>
                <li><strong>RGB</strong>ï¼šçº¢ç»¿è“ä¸‰åŸè‰²ï¼Œå¦‚ rgb(255, 216, 3)</li>
                <li><strong>HSL</strong>ï¼šè‰²ç›¸ã€é¥±å’Œåº¦ã€äº®åº¦ï¼Œå¦‚ hsl(50, 98%, 51%)</li>
                <li><strong>å’Œè°è‰²</strong>ï¼šåŸºäºè‰²å½©ç†è®ºç”Ÿæˆçš„é…è‰²æ–¹æ¡ˆ</li>
                <li><strong>ç‚¹å‡»å¤åˆ¶</strong>ï¼šç‚¹å‡»ä»»æ„æ ¼å¼å¿«é€Ÿå¤åˆ¶åˆ°å‰ªè´´æ¿</li>
            </ul>
        </div>
    </div>

    <!-- å…¬å…±è„šæœ¬ -->
    <script src="../assets/js/common.js"></script>

    <script>
        let currentColor = { r: 255, g: 216, b: 3, a: 1 };

        // è‰²æ¿æ•°æ®
        const palettes = {
            material: [
                '#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', '#2196F3',
                '#03A9F4', '#00BCD4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39',
                '#FFEB3B', '#FFC107', '#FF9800', '#FF5722', '#795548', '#9E9E9E'
            ],
            flat: [
                '#1ABC9C', '#2ECC71', '#3498DB', '#9B59B6', '#34495E', '#16A085',
                '#27AE60', '#2980B9', '#8E44AD', '#2C3E50', '#F1C40F', '#E67E22',
                '#E74C3C', '#ECF0F1', '#95A5A6', '#F39C12', '#D35400', '#C0392B'
            ],
            tailwind: [
                '#EF4444', '#F59E0B', '#10B981', '#3B82F6', '#6366F1', '#8B5CF6',
                '#EC4899', '#14B8A6', '#06B6D4', '#84CC16', '#F97316', '#F43F5E'
            ],
            chinese: [
                '#DC143C', '#FF6B6B', '#FFB6C1', '#FF69B4', '#BA55D3', '#9370DB',
                '#4169E1', '#1E90FF', '#00BFFF', '#00CED1', '#20B2AA', '#3CB371',
                '#FFD700', '#FFA500', '#FF8C00', '#DC143C', '#8B4513', '#2F4F4F'
            ]
        };

        // åˆå§‹åŒ–
        function init() {
            updateColorFromRGB();
            showPalette('material');
            updateHarmonyColors();
            updateGradient();
            
            // ç›‘å¬å™¨
            document.getElementById('colorPicker').addEventListener('input', handleColorPicker);
            document.getElementById('colorInput').addEventListener('input', handleColorInput);
            document.getElementById('rSlider').addEventListener('input', handleSlider);
            document.getElementById('gSlider').addEventListener('input', handleSlider);
            document.getElementById('bSlider').addEventListener('input', handleSlider);
            document.getElementById('alphaSlider').addEventListener('input', handleSlider);
            document.getElementById('harmonyType').addEventListener('change', updateHarmonyColors);
            document.getElementById('gradientStart').addEventListener('input', updateGradient);
            document.getElementById('gradientEnd').addEventListener('input', updateGradient);
            document.getElementById('gradientDirection').addEventListener('change', updateGradient);
        }

        // é¢œè‰²é€‰æ‹©å™¨
        function handleColorPicker(e) {
            const hex = e.target.value;
            const rgb = hexToRgb(hex);
            currentColor = { ...rgb, a: currentColor.a };
            updateUI();
        }

        // è¾“å…¥æ¡†
        function handleColorInput(e) {
            const value = e.target.value.trim();
            let rgb;
            
            if (value.startsWith('#')) {
                rgb = hexToRgb(value);
            } else if (value.startsWith('rgb')) {
                rgb = parseRgb(value);
            } else if (value.startsWith('hsl')) {
                rgb = hslToRgb(parseHsl(value));
            }
            
            if (rgb) {
                currentColor = { ...rgb, a: currentColor.a };
                updateUI();
            }
        }

        // æ»‘å—
        function handleSlider() {
            currentColor.r = parseInt(document.getElementById('rSlider').value);
            currentColor.g = parseInt(document.getElementById('gSlider').value);
            currentColor.b = parseInt(document.getElementById('bSlider').value);
            currentColor.a = parseInt(document.getElementById('alphaSlider').value) / 100;
            updateUI();
        }

        // æ›´æ–° UI
        function updateUI() {
            updateColorFromRGB();
            updateSliders();
            updateFormats();
            updateHarmonyColors();
        }

        // ä» RGB æ›´æ–°
        function updateColorFromRGB() {
            const { r, g, b, a } = currentColor;
            const hex = rgbToHex(r, g, b);
            const rgba = `rgba(${r}, ${g}, ${b}, ${a})`;
            
            // æ›´æ–°é¢„è§ˆ
            document.getElementById('colorPreview').style.background = rgba;
            document.getElementById('colorName').textContent = hex;
            document.getElementById('colorPicker').value = hex;
            document.getElementById('colorInput').value = hex;
        }

        // æ›´æ–°æ»‘å—
        function updateSliders() {
            const { r, g, b, a } = currentColor;
            document.getElementById('rSlider').value = r;
            document.getElementById('gSlider').value = g;
            document.getElementById('bSlider').value = b;
            document.getElementById('alphaSlider').value = a * 100;
            document.getElementById('rValue').textContent = r;
            document.getElementById('gValue').textContent = g;
            document.getElementById('bValue').textContent = b;
            document.getElementById('alphaValue').textContent = Math.round(a * 100) + '%';
        }

        // æ›´æ–°æ ¼å¼
        function updateFormats() {
            const { r, g, b, a } = currentColor;
            const hex = rgbToHex(r, g, b);
            const hsl = rgbToHsl(r, g, b);
            const hsv = rgbToHsv(r, g, b);
            
            const formats = [
                { label: 'HEX', value: hex },
                { label: 'RGB', value: `rgb(${r}, ${g}, ${b})` },
                { label: 'RGBA', value: `rgba(${r}, ${g}, ${b}, ${a})` },
                { label: 'HSL', value: `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)` },
                { label: 'HSV', value: `hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)` },
                { label: 'CMYK', value: rgbToCmyk(r, g, b) }
            ];
            
            const container = document.getElementById('colorFormats');
            container.innerHTML = formats.map(fmt => `
                <div class="format-item" onclick="DevToolkit.copyToClipboard('${fmt.value}')">
                    <div class="format-label">${fmt.label}</div>
                    <div class="format-value">${fmt.value}</div>
                </div>
            `).join('');
        }

        // æ›´æ–°å’Œè°è‰²
        function updateHarmonyColors() {
            const type = document.getElementById('harmonyType').value;
            const { r, g, b } = currentColor;
            const hsl = rgbToHsl(r, g, b);
            let colors = [];
            
            switch(type) {
                case 'complementary':
                    colors = [
                        hsl,
                        { h: (hsl.h + 180) % 360, s: hsl.s, l: hsl.l }
                    ];
                    break;
                case 'triadic':
                    colors = [
                        hsl,
                        { h: (hsl.h + 120) % 360, s: hsl.s, l: hsl.l },
                        { h: (hsl.h + 240) % 360, s: hsl.s, l: hsl.l }
                    ];
                    break;
                case 'analogous':
                    colors = [
                        { h: (hsl.h - 30 + 360) % 360, s: hsl.s, l: hsl.l },
                        hsl,
                        { h: (hsl.h + 30) % 360, s: hsl.s, l: hsl.l }
                    ];
                    break;
                case 'split':
                    colors = [
                        hsl,
                        { h: (hsl.h + 150) % 360, s: hsl.s, l: hsl.l },
                        { h: (hsl.h + 210) % 360, s: hsl.s, l: hsl.l }
                    ];
                    break;
                case 'tetradic':
                    colors = [
                        hsl,
                        { h: (hsl.h + 90) % 360, s: hsl.s, l: hsl.l },
                        { h: (hsl.h + 180) % 360, s: hsl.s, l: hsl.l },
                        { h: (hsl.h + 270) % 360, s: hsl.s, l: hsl.l }
                    ];
                    break;
            }
            
            const container = document.getElementById('harmonyColors');
            container.innerHTML = colors.map((color, i) => {
                const rgb = hslToRgb(color);
                const hex = rgbToHex(rgb.r, rgb.g, rgb.b);
                return `
                    <div class="harmony-item" 
                         style="background: ${hex}" 
                         onclick="applyColor('${hex}')"
                         title="ç‚¹å‡»åº”ç”¨">
                        <div class="harmony-label">${hex}</div>
                    </div>
                `;
            }).join('');
        }

        // åº”ç”¨é¢œè‰²
        function applyColor(hex) {
            const rgb = hexToRgb(hex);
            currentColor = { ...rgb, a: currentColor.a };
            updateUI();
        }

        // æ˜¾ç¤ºè‰²æ¿
        function showPalette(type, event) {
            if (event) {
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            }
            
            const colors = palettes[type];
            const container = document.getElementById('paletteGrid');
            container.innerHTML = colors.map(color => `
                <div class="palette-item" 
                     style="background: ${color}" 
                     data-color="${color}"
                     onclick="applyColor('${color}')">
                </div>
            `).join('');
        }

        // æ›´æ–°æ¸å˜
        function updateGradient() {
            const start = document.getElementById('gradientStart').value;
            const end = document.getElementById('gradientEnd').value;
            const direction = document.getElementById('gradientDirection').value;
            
            const gradient = `linear-gradient(${direction}, ${start}, ${end})`;
            document.getElementById('gradientPreview').style.background = gradient;
            document.getElementById('gradientCode').value = `background: ${gradient};`;
        }

        // å¤åˆ¶æ¸å˜
        function copyGradient() {
            const code = document.getElementById('gradientCode').value;
            DevToolkit.copyToClipboard(code);
        }

        // ===== é¢œè‰²è½¬æ¢å‡½æ•° =====
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHex(r, g, b) {
            return "#" + [r, g, b].map(x => {
                const hex = x.toString(16);
                return hex.length === 1 ? "0" + hex : hex;
            }).join('').toUpperCase();
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        function hslToRgb(hsl) {
            let { h, s, l } = hsl;
            h /= 360; s /= 100; l /= 100;
            
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        function rgbToHsv(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, v = max;
            const d = max - min;
            s = max === 0 ? 0 : d / max;

            if (max === min) {
                h = 0;
            } else {
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                v: Math.round(v * 100)
            };
        }

        function rgbToCmyk(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const k = 1 - Math.max(r, g, b);
            const c = (1 - r - k) / (1 - k) || 0;
            const m = (1 - g - k) / (1 - k) || 0;
            const y = (1 - b - k) / (1 - k) || 0;
            
            return `cmyk(${Math.round(c * 100)}, ${Math.round(m * 100)}, ${Math.round(y * 100)}, ${Math.round(k * 100)})`;
        }

        function parseRgb(str) {
            const match = str.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
            return match ? { r: parseInt(match[1]), g: parseInt(match[2]), b: parseInt(match[3]) } : null;
        }

        function parseHsl(str) {
            const match = str.match(/hsla?\((\d+),\s*(\d+)%,\s*(\d+)%/);
            return match ? { h: parseInt(match[1]), s: parseInt(match[2]), l: parseInt(match[3]) } : null;
        }

        // åˆå§‹åŒ–
        init();
    </script>
</body>
</html>